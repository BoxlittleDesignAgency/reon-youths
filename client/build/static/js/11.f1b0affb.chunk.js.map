{"version":3,"sources":["layout/DashboardLayoutX.js"],"names":["DashboardLayout","title","description","children","useState","profile","setProfile","useEffect","console","dir","getCurrentProfile","bio","city","country","dob","handle","location","skills","name","status","email","youtube","facebook","linkedin","kingschat","a","token","getCookie","log","config","headers","Authorization","axios","get","res","data","user","social","className","id","value"],"mappings":"uRAkIeA,UA7GS,SAAC,GAKnB,EAJJC,MAII,EAHJC,YAGK,IAFLC,EAEI,EAFJA,SAEI,qDAC0BC,mBAAS,KADnC,mBACGC,EADH,KACYC,EADZ,KAGJC,qBAAU,WACRC,QAAQC,IAAI,uBACX,CAACJ,IACJE,qBAAU,WACRG,MACC,IAiBCL,EAdFM,IAcEN,EAbFO,KAaEP,EAZFQ,QAYER,EAXFS,IAWET,EAVFU,OAUEV,EATFW,SAhBE,IAiBFC,EAQEZ,EARFY,OAEAC,GAMEb,EAPFc,OAOEd,EANFa,MAQIR,GAFFL,EALFe,MAKEf,EAJFgB,QAIEhB,EAHFiB,SAGEjB,EAFFkB,SAEElB,EADFmB,UAGqB,uCAAG,kEAAAC,EAAA,6DAClBC,EAAQC,oBAAU,SACxBnB,QAAQoB,IAAI,qBAAsBF,GAFV,SAIhBG,EAAS,CACbC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYL,KAPP,SAWJM,IAAMC,IAAI,uBAAwBJ,GAX9B,OAWhBK,EAXgB,SAwBlBA,EAAIC,KAVNxB,EAdoB,EAcpBA,IACAC,EAfoB,EAepBA,KACAC,EAhBoB,EAgBpBA,QACAC,EAjBoB,EAiBpBA,IACAC,EAlBoB,EAkBpBA,OACAC,EAnBoB,EAmBpBA,SACAG,EApBoB,EAoBpBA,OACAF,EArBoB,EAqBpBA,OArBoB,IAsBpBmB,KAAQhB,EAtBY,EAsBZA,MAAOF,EAtBK,EAsBLA,KAtBK,IAuBpBmB,OAAUhB,EAvBU,EAuBVA,QAASE,EAvBC,EAuBDA,SAAUC,EAvBT,EAuBSA,UAAWF,EAvBpB,EAuBoBA,SAG1Cd,QAAQoB,IAAI,YAAaM,GAEzB5B,EAAW,2BACND,GADK,IAERM,MACAC,OACAC,UACAC,MACAC,SACAC,WACAG,SACAF,SACAC,OACAE,QACAC,UACAE,WACAC,YACAF,cA3CoB,kDA8CtBd,QAAQoB,IAAI,eAAZ,MA9CsB,0DAAH,sDAmDvB,OACE,yBAAKU,UAAU,uBACb,kBAAC,UAAD,MACA,0BAAMC,GAAG,kBACP,kBAAC,IAAD,KACE,6BAASD,UAAU,aACjB,kBAAC,UAAD,CAAOA,UAAU,uBACf,kBAAC,UAAD,OAEF,kBAAC,UAAD,CAAMA,UAAU,gBAAgBnC,GAChC,kBAAC,UAAD,CAAOmC,UAAU,wBACf,kBAAC,UAAD,MACA,4BAAQA,UAAU,UACfrB,EACD,2CAAiBC,IAEnB,kBAAC,UAAD,MACA,kBAAC,UAAD,CAAKsB,MAAOnC","file":"static/js/11.f1b0affb.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nimport GlobalHeader from '../pages/shared/header/GlobalHeader';\n\nimport Main from '../dashboard/components/Main';\nimport RightContent from '../dashboard/components/RightContent';\nimport LeftContent from '../dashboard/components/LeftContent';\nimport Aside from '../dashboard/components/Aside';\nimport TopBar from '../dashboard/components/TopBar';\n\nimport '../dashboard/Dashboard.css';\n\nimport Log from '../pages/shared/Log';\n\nimport { getCookie } from '../pages/components/auth/helpers';\n\nconst DashboardLayout = ({\n  title = 'Title',\n  description = 'Description',\n  children,\n  ...rest\n}) => {\n  const [profile, setProfile] = useState({});\n\n  useEffect(() => {\n    console.dir('componentDidMount');\n  }, [profile]);\n  useEffect(() => {\n    getCurrentProfile();\n  }, []);\n\n  const {\n    bio,\n    city,\n    country,\n    dob,\n    handle,\n    location,\n    skills,\n    status,\n    name,\n    email,\n    youtube,\n    facebook,\n    linkedin,\n    kingschat\n  } = profile;\n\n  const getCurrentProfile = async () => {\n    const token = getCookie('token');\n    console.log('TOKEN RECEIVED:   ', token);\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        }\n      };\n\n      const res = await axios.get('/api/user/profile/me', config);\n\n      const {\n        bio,\n        city,\n        country,\n        dob,\n        handle,\n        location,\n        status,\n        skills,\n        user: { email, name },\n        social: { youtube, linkedin, kingschat, facebook }\n      } = res.data;\n\n      console.log('RESULT:  ', res);\n\n      setProfile({\n        ...profile,\n        bio,\n        city,\n        country,\n        dob,\n        handle,\n        location,\n        status,\n        skills,\n        name,\n        email,\n        youtube,\n        linkedin,\n        kingschat,\n        facebook\n      });\n    } catch (err) {\n      console.log('SIGNUP ERROR', err);\n    }\n  };\n\n  // return loading && profile === null ? <Spinner/>:<Fragment>test</Fragment>\n  return (\n    <div className=\"page page-dashboard\">\n      <GlobalHeader />\n      <main id=\"user-dashboard\">\n        <Router>\n          <section className=\"user-main\">\n            <Aside className=\"user-aside left-bar\">\n              <LeftContent />\n            </Aside>\n            <Main className=\"main-content\">{children}</Main>\n            <Aside className=\"user-aside right-bar\">\n              <TopBar />\n              <header className=\"header\">\n                {skills}\n                <h3>Schedule by {name}</h3>\n              </header>\n              <RightContent />\n              <Log value={profile} />\n            </Aside>\n          </section>\n        </Router>\n      </main>\n    </div>\n  );\n};\n\nexport default DashboardLayout;\n"],"sourceRoot":""}